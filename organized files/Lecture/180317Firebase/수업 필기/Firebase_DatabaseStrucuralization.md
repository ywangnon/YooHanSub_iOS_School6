# 데이터베이스 구조화

- Firebase 실시간 데이터베이스의 JSON 데이터 구조화와 관련된 주요 데이터 아키텍처 개념과 몇 가지 권장사항 설명

- 데이터베이스를 적절히 구조화하는데 가장 중요한 것은 **최대한 쉽게 데이터를 저장하고 이후에 검색할 방법에 대해 계획응ㄹ 세우는 것**

## 데이터의 구조: JSON 트리

- 모든 Firebase 실시간 데이터베이스 데이터는 JSON 개체로 저장
- 데이터베이스를 클라우드 호스팅 JSON 트리라고 생각하면 됨
- SQL 데이터베이스와 달리 테이블이나 레코드가 없음
- JSON 트리에 추가된 데이터는 연결된 키를 갖는 기존 JSON 구조의 노드가 됨
- 사용자 ID 또는 의미 있는 이름을 키로 직접 지정 가능, 또는 `childByAutoId`를 사용하여 자동으로 지정 가능

> 키를 직접 만드는 경우 키는 UTF-8로 인코딩되어야 하고 768 byte 이하이며, ., $, #, [, ], /, ASCII 제어문자 0~31 또는 127을 포함 불가

기본적인 프로필과 연락처를 저장할 수 있는 채팅 애플리케이션을 가정
사용자 프로필은 일반적으로 `/users/$uid`와 같은 경로에 위치
사용자 `alovelace` 의 데이터베이스 항복은 다음과 같이 표시됨

```
{
  "users": {
    "alovelace": {
      "name": "Ada Lovelace",
      "contacts": { "ghopper": true },
    },
    "ghopper": { ... },
    "eclarke": { ... }
  }
}
```

데이터베이스는 JSON 트리를 사용하지만 데이터베이스에 저장되는 데이터는 사용 가능한 JSON유형에 대응하는 특정한 기본 유형으로 표현하여 코드를 보다 쉽게 관리 가능